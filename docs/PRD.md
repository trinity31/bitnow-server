## 1. 목적/배경

- **원화(KRW) 시세**와 **달러(USD) 시세**를 동시에 표시해주는 기능 필요
- 알림 및 지표 분석을 통해 사용자의 의사결정 지원
- 추후 **AI 기반 자동매매 기능** 확장을 염두에 두고 **FastAPI** 서버로 개발

---

## 2. 주요 기능 (MVP)

1. **가격 (실시간)**
   - **Pyupbit API**로 원화 시세 수집
   - **Binance API**로 달러 시세 수집
   - UI에서 원/달러 가격을 동시에 또는 선택적으로 표시
2. **RSI (실시간)**
   - FastAPI에서 캔들 데이터(업비트 or 바이낸스) 기반 RSI 계산
   - 사용자가 실시간(주기적 폴링 or WebSocket)으로 확인 가능
3. **MVRV (주 1회)**
   - 온체인 지표(Glassnode 등)나 관련 API 스크래핑
   - 1주일에 1회 업데이트
   - 임계값 돌파 등 이벤트가 있으면 알림
4. **비트코인 도미넌스 / 알트코인 시즌 인덱스**
   - 특정 지표(코인마켓캡, Blockchain Center 등)에서 수집
   - 중요한 변화(예: 알트코인 시즌 인덱스가 75 이상) 시 알림
5. **이동평균선(MA) 돌파/하락 알림**
   - 단기선(5일, 20일선 등)과 장기선 교차 지점 등 감지
   - 교차 발생 시 앱 푸시 또는 음성 알림
6. **김치 프리미엄 지표**
   - (Upbit 시세 - Binance 시세 환산) / Binance 시세 × 100(%)
   - 프리미엄이 특정 기준(예: 5%, 10% 등)을 넘거나 내려갈 때 알림

---

## 3. 기술 스택

1. **백엔드 (FastAPI)**
   - Pyupbit, Binance API를 통해 시세/캔들 데이터 수집
   - TA 라이브러리(e.g. `pandas_ta` or `talib`)로 RSI, 이동평균선 등 계산
   - MVRV·비트코인 도미넌스 등 외부 지표는 주기적으로 스크래핑 or API 호출
   - 결과값/알림 트리거를 DB(또는 캐시)에 저장 → 클라이언트에 전달
   - 향후 AI 모델(자동매매 로직) 연동을 위해 확장성 고려
2. **프런트엔드 (Flutter 등)**
   - 현재가(원화, 달러) 실시간 표시 UI
   - RSI, MVRV, BTC 도미넌스 등 주요 지표 시각화
   - 알림(푸시/TTS) 옵션 설정 화면: MA 교차, RSI 임계값, 알트코인 시즌 인덱스 임계값 등
3. **데이터베이스**
   - 초기에는 Firebase Firestore or 간단한 PostgreSQL/SQLite 등 선택 가능
   - 알림 로그, 사용자 설정(임계값, 주기) 저장
4. **알림 방식**
   - MVP에서는 **푸시 알림**(FCM) 또는 앱 내 로컬 알림 + TTS 지원 고려
   - FastAPI에서 지표 변화를 체크 → FCM 토큰으로 푸시 전송

---

## 4. 사용자 시나리오

1. **개인 투자자 A**
   - 앱 실행 → 원화/달러 시세 동시 확인
   - RSI가 70 이상 올라갈 때 푸시 알림 받도록 설정
   - 이동평균선(20일 vs 60일) 교차 시 매수/매도 시그널로 참고
2. **어르신 B**
   - 큰 글자 UI / 음성 알림
   - 주 1회 MVRV 지표 확인 (너무 자주 보는 부담을 덜고, 중요한 변화 시만 알림)
3. **트레이더 C**
   - 알트코인 시즌 인덱스가 특정 값 돌파 시 즉시 알림
   - 달러 시세 기반으로 해외 거래소 가격과 비교 매매 전략 세움

---

## 5. 아키텍처 개요

1. **FastAPI 서버**
   - (1) Pyupbit, Binance 등에서 시세·캔들 데이터 수집
   - (2) RSI, MA, BTC 도미넌스, MVRV 등 주기별(실시간/일/주 단위) 계산
   - (3) 임계값 또는 교차 발생 시 알림 이벤트 생성
2. **클라이언트(Flutter 등)**
   - (1) FastAPI로부터 최신 지표·시세 fetch
   - (2) 사용자 설정(알림 on/off, 임계값)
   - (3) 알림 수신 후 푸시/TTS/팝업

---

## 6. 일정 / 로드맵 (7일)

1. **Day 1**
   - FastAPI 프로젝트 셋업 (시세 수집 로직, API 라우트 구성)
   - 데이터 스키마 설계 (가격, RSI 등 저장 구조)
2. **Day 2**
   - 원화(Upbit) vs 달러(Binance) 시세 fetch & FastAPI 연동
   - Flutter UI 초기 버전(시세 표시)
3. **Day 3**
   - RSI 계산 로직 구현 (실시간 or 짧은 주기), 알림 트리거 초안
   - Flutter에서 RSI 표시 (차트 or 수치)
4. **Day 4**
   - 이동평균선 교차 로직, MVRV·BTC 도미넌스(또는 알트코인 시즌 인덱스) 수집
   - Flutter: 알림 설정 화면
5. **Day 5**
   - 푸시 알림 / TTS 알림 연동
   - UI/UX 개선 (큰 글자, 고대비)
6. **Day 6**
   - QA, 버그 수정, 성능 점검
   - 사용성 테스트 (알림 정확성, 음성 안내)
7. **Day 7**
   - 앱 스토어/플레이스토어(TestFlight, Internal Testing 등) 준비
   - MVP 배포 후 피드백 수집

---

## 7. QA / 성공 기준

- **가격·RSI 실시간성**: 빠른 주기로 업데이트 정확히 표시
- **MVRV(주1회) 수집**: 크론 스케줄 또는 정기 함수 호출로 원활히 갱신
- **MA 돌파 알림**: 적절히 푸시 알림 발송, 잘못된 신호 미발생
- **UI/UX**: 시인성(큰 글자, 고대비), 알림 설정 편의성
- **안정성**: 24시간 구동 중 서버나 앱이 멈추지 않고 제대로 작동

---

## 8. 향후 확장 아이디어

1. **AI 자동매매**
   - FastAPI 내부에서 ML 모델 연동 → 자동매매 신호 생성
   - 거래소 API Key 연동(바이낸스, 업비트)
2. **사용자 맞춤형 시나리오**
   - 알고리즘 트레이딩 전략(조건 시 즉시 매매)
3. **커뮤니티/소셜 기능**
   - 실시간 커뮤니티 채팅, 시황 토론 등
4. **복수 코인 확장**
   - BTC 외 ETH, 주요 알트코인 동시 지원
5. **다른 온체인 지표**
   - SOPR, NUPL, 채굴자 동향 등 온체인 분석 지표 추가
